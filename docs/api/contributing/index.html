<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contributing to jaato - jaato docs</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <a href="../index.html" class="header-logo">
      jaato <span>docs</span>
    </a>
    <nav class="header-nav">
      <a href="../getting-started/quickstart.html">Quickstart</a>
      <a href="../api-reference/index.html">API Reference</a>
      <a href="https://github.com/apanoia/jaato" target="_blank">GitHub</a>
      <div class="header-search">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        <input type="text" placeholder="Search docs... (press /)">
      </div>
    </nav>
  </header>

  <!-- Layout -->
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-title">Getting Started</div>
        <ul class="sidebar-nav">
          <li><a href="../getting-started/quickstart.html">Quickstart</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-title">Core Concepts</div>
        <ul class="sidebar-nav">
          <li><a href="../core-concepts/client.html">Client</a></li>
          <li><a href="../core-concepts/plugins.html">Plugins</a></li>
          <li><a href="../core-concepts/tools.html">Tools</a></li>
          <li><a href="../core-concepts/providers.html">Providers</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-title">Guides</div>
        <ul class="sidebar-nav">
          <li><a href="../guides/tool-plugins.html">Building Plugins</a></li>
          <li><a href="../guides/mcp-integration.html">MCP Integration</a></li>
          <li><a href="../guides/permissions.html">Permissions</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-title">Contributing</div>
        <ul class="sidebar-nav">
          <li><a href="index.html" class="active">Getting Started</a></li>
          <li><a href="architecture.html">Architecture</a></li>
          <li><a href="code-style.html">Code Style</a></li>
          <li><a href="testing.html">Testing</a></li>
          <li><a href="pull-requests.html">Pull Requests</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-title">API Reference</div>
        <ul class="sidebar-nav">
          <li><a href="../api-reference/index.html">Overview</a></li>
          <li><a href="../api-reference/jaato-client.html">JaatoClient</a></li>
          <li><a href="../api-reference/plugin-registry.html">PluginRegistry</a></li>
          <li><a href="../api-reference/types.html">Types</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-title">Provider Reference</div>
        <ul class="sidebar-nav">
          <li><a href="../api-reference/providers/index.html">Overview</a></li>
          <li><a href="../api-reference/providers/google-genai.html">Google GenAI</a></li>
        </ul>
      </div>
    </aside>

    <!-- Main content -->
    <main class="main">
      <!-- Introduction -->
      <section class="two-panel">
        <div class="panel-explanation">
          <h1>Contributing to jaato</h1>
          <p class="lead">
            Welcome! This guide will help you start contributing to the jaato framework.
            Whether you're fixing bugs, adding features, or improving documentation,
            we're excited to have you.
          </p>

          <h2 id="overview">What You'll Learn</h2>
          <p>
            This guide covers everything you need to contribute to jaato's core framework:
          </p>
          <ul>
            <li>Setting up your development environment</li>
            <li>Understanding the codebase architecture</li>
            <li>Running and writing tests</li>
            <li>Following code style guidelines</li>
            <li>Submitting pull requests</li>
          </ul>

          <div class="callout callout-info">
            <div class="callout-title">Building Plugins?</div>
            <p>
              If you want to build custom plugins (not contribute to the framework itself),
              see the <a href="../guides/tool-plugins.html">Building Plugins Guide</a> instead.
            </p>
          </div>
        </div>
        <div class="panel-code">
          <div class="code-label">Quick setup</div>
          <div class="code-block">
            <pre><code class="language-bash"># Clone the repository
git clone https://github.com/apanoia/jaato.git
cd jaato

# Create virtual environment
python3 -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Run tests
pytest

# All tests passing? You're ready!</code></pre>
          </div>
        </div>
      </section>

      <!-- Development Setup -->
      <section class="two-panel">
        <div class="panel-explanation">
          <h2 id="setup">Development Environment</h2>

          <h3>Prerequisites</h3>
          <ul>
            <li><strong>Python 3.10+</strong> - Check with <code>python3 --version</code></li>
            <li><strong>Git</strong> - For version control</li>
            <li><strong>GCP Account</strong> - For Vertex AI integration testing (optional)</li>
          </ul>

          <h3>Install Development Dependencies</h3>
          <p>
            The project uses <code>pytest</code> for testing and includes several
            development dependencies defined in <code>requirements.txt</code>.
          </p>

          <h3>Verify Your Setup</h3>
          <p>
            Run the test suite to ensure everything is working correctly.
            All tests should pass on a fresh clone.
          </p>
        </div>
        <div class="panel-code">
          <div class="code-label">Verify installation</div>
          <div class="code-block">
            <pre><code class="language-bash"># Activate virtual environment
source .venv/bin/activate

# Run all tests
pytest

# Run tests with coverage
pytest --cov=shared --cov-report=html

# Run specific test file
pytest shared/plugins/cli/tests/test_cli.py

# Run tests matching pattern
pytest -k "test_plugin"</code></pre>
          </div>
        </div>
      </section>

      <!-- Understanding the Codebase -->
      <section class="two-panel">
        <div class="panel-explanation">
          <h2 id="architecture">Understanding the Architecture</h2>

          <p>
            jaato is organized into several key components. Understanding this
            structure will help you navigate the codebase and identify where to
            make changes.
          </p>

          <h3>Core Components</h3>
          <ul>
            <li><strong>shared/</strong> - Framework internals and plugin system</li>
            <li><strong>jaato/</strong> - Public API exports for external use</li>
            <li><strong>simple-client/</strong> - Reference client implementation</li>
            <li><strong>docs/</strong> - Documentation and guides</li>
          </ul>

          <h3>Plugin Types</h3>
          <p>jaato has three distinct plugin systems:</p>
          <ul>
            <li><strong>Tool Plugins</strong> - Provide tools for model function calling</li>
            <li><strong>GC Plugins</strong> - Manage context window overflow</li>
            <li><strong>Model Provider Plugins</strong> - Abstract AI provider SDKs</li>
          </ul>

          <p>
            See the <a href="architecture.html">Architecture Deep Dive</a> for
            detailed information about each component.
          </p>
        </div>
        <div class="panel-code">
          <div class="code-label">Key directories</div>
          <div class="code-block">
            <pre><code class="language-bash">jaato/
‚îú‚îÄ‚îÄ shared/                    # Core framework
‚îÇ   ‚îú‚îÄ‚îÄ jaato_client.py       # Main client
‚îÇ   ‚îú‚îÄ‚îÄ ai_tool_runner.py     # Tool executor
‚îÇ   ‚îú‚îÄ‚îÄ token_accounting.py   # Token tracking
‚îÇ   ‚îî‚îÄ‚îÄ plugins/              # Plugin system
‚îÇ       ‚îú‚îÄ‚îÄ cli/              # CLI tool plugin
‚îÇ       ‚îú‚îÄ‚îÄ mcp/              # MCP integration
‚îÇ       ‚îú‚îÄ‚îÄ gc*/              # GC strategies
‚îÇ       ‚îî‚îÄ‚îÄ model_provider/   # Provider abstraction
‚îÇ
‚îú‚îÄ‚îÄ jaato/                     # Public API
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py           # Exports
‚îÇ
‚îú‚îÄ‚îÄ simple-client/            # Reference client
‚îÇ   ‚îî‚îÄ‚îÄ interactive_client.py
‚îÇ
‚îî‚îÄ‚îÄ docs/                     # Documentation
    ‚îú‚îÄ‚îÄ api/                  # API docs (HTML)
    ‚îî‚îÄ‚îÄ architecture.md       # Architecture guide</code></pre>
          </div>
        </div>
      </section>

      <!-- Areas to Contribute -->
      <section class="two-panel">
        <div class="panel-explanation">
          <h2 id="areas">Where to Contribute</h2>

          <p>
            There are many ways to contribute to jaato. Here are some common areas:
          </p>

          <h3>Core Framework</h3>
          <ul>
            <li>Improve <code>JaatoClient</code> API and error handling</li>
            <li>Enhance plugin discovery and lifecycle management</li>
            <li>Optimize token accounting and retry logic</li>
            <li>Add support for new AI provider SDKs</li>
          </ul>

          <h3>Plugin System</h3>
          <ul>
            <li>Build new built-in tool plugins</li>
            <li>Implement new GC (garbage collection) strategies</li>
            <li>Add model provider plugins (Anthropic, OpenAI, etc.)</li>
            <li>Improve plugin protocol and type safety</li>
          </ul>

          <h3>Testing & Quality</h3>
          <ul>
            <li>Add test coverage for untested code</li>
            <li>Write integration tests for end-to-end workflows</li>
            <li>Improve error messages and debugging experience</li>
            <li>Add type hints and improve static analysis</li>
          </ul>

          <h3>Documentation</h3>
          <ul>
            <li>Write guides and tutorials</li>
            <li>Add API documentation and examples</li>
            <li>Improve inline code comments</li>
            <li>Create video walkthroughs or demos</li>
          </ul>
        </div>
        <div class="panel-code">
          <div class="code-label">Finding good first issues</div>
          <div class="code-block">
            <pre><code class="language-bash"># Look for good first issues on GitHub
# These are beginner-friendly tasks

# Common patterns:
# - "good first issue" label
# - Documentation improvements
# - Test coverage additions
# - Small bug fixes

# Example contribution flow:
git checkout -b fix/issue-123
# ... make changes ...
pytest  # Ensure tests pass
git commit -m "fix: resolve issue #123"
git push origin fix/issue-123
# ... create PR on GitHub ...</code></pre>
          </div>

          <div class="code-label" style="margin-top: 24px;">Issue template ideas</div>
          <div class="code-block">
            <pre><code class="language-markdown">## Bug Report
**Description:** JaatoClient.reset_session()
doesn't clear GC plugin state

**Steps to Reproduce:**
1. Create client with GC plugin
2. Send messages until GC triggers
3. Call reset_session()
4. GC state persists incorrectly

**Expected:** GC state should reset
**Actual:** State carries over</code></pre>
          </div>
        </div>
      </section>

      <!-- Code Style -->
      <section class="two-panel">
        <div class="panel-explanation">
          <h2 id="style">Code Style Guidelines</h2>

          <h3>Python Style</h3>
          <ul>
            <li>Follow <strong>PEP 8</strong> conventions</li>
            <li>Use <strong>type hints</strong> for function signatures</li>
            <li>Write <strong>docstrings</strong> for public APIs</li>
            <li>Keep functions focused and under 50 lines when possible</li>
          </ul>

          <h3>Naming Conventions</h3>
          <ul>
            <li><code>snake_case</code> for functions and variables</li>
            <li><code>PascalCase</code> for classes</li>
            <li><code>UPPER_CASE</code> for constants</li>
            <li>Prefix private methods with <code>_underscore</code></li>
          </ul>

          <h3>Documentation</h3>
          <ul>
            <li>Add docstrings to all public classes and methods</li>
            <li>Include parameter types and return types</li>
            <li>Provide usage examples for complex functionality</li>
            <li>Update relevant documentation when changing behavior</li>
          </ul>

          <p>
            See the <a href="code-style.html">Code Style Guide</a> for detailed
            formatting rules and examples.
          </p>
        </div>
        <div class="panel-code">
          <div class="code-label">Code style example</div>
          <div class="code-block">
            <pre><code class="language-python">"""Example of good code style in jaato."""

from typing import Dict, List, Optional
from jaato import ToolSchema


class ExamplePlugin:
    """Example plugin demonstrating code style.

    This plugin shows proper formatting, type hints,
    and documentation practices.
    """

    def __init__(self, config: Optional[Dict] = None):
        """Initialize the plugin.

        Args:
            config: Optional configuration dictionary.
        """
        self._config = config or {}
        self._initialized = False

    @property
    def name(self) -> str:
        """Plugin name identifier."""
        return "example"

    def get_tool_schemas(self) -> List[ToolSchema]:
        """Return tool schemas for this plugin.

        Returns:
            List of ToolSchema objects.
        """
        return [
            ToolSchema(
                name="example_tool",
                description="An example tool",
                parameters={
                    "type": "object",
                    "properties": {
                        "message": {"type": "string"}
                    },
                    "required": ["message"]
                }
            )
        ]

    def _execute(self, args: Dict) -> Dict:
        """Private executor method.

        Args:
            args: Tool arguments from the model.

        Returns:
            Execution result dictionary.
        """
        return {"result": args.get("message", "")}</code></pre>
          </div>
        </div>
      </section>

      <!-- Submitting PRs -->
      <section class="two-panel">
        <div class="panel-explanation">
          <h2 id="pull-requests">Submitting Pull Requests</h2>

          <h3>Before You Submit</h3>
          <ul>
            <li><strong>Run tests</strong> - All tests must pass</li>
            <li><strong>Add tests</strong> - New code needs test coverage</li>
            <li><strong>Update docs</strong> - Document API changes</li>
            <li><strong>Check style</strong> - Follow code conventions</li>
          </ul>

          <h3>Commit Messages</h3>
          <p>
            Use conventional commit format:
          </p>
          <ul>
            <li><code>feat:</code> - New feature</li>
            <li><code>fix:</code> - Bug fix</li>
            <li><code>docs:</code> - Documentation only</li>
            <li><code>test:</code> - Adding tests</li>
            <li><code>refactor:</code> - Code refactoring</li>
            <li><code>chore:</code> - Maintenance tasks</li>
          </ul>

          <h3>PR Description</h3>
          <p>
            Include in your PR description:
          </p>
          <ul>
            <li>What problem does this solve?</li>
            <li>What changes did you make?</li>
            <li>How can reviewers test it?</li>
            <li>Any breaking changes or migration notes?</li>
          </ul>

          <p>
            See the <a href="pull-requests.html">Pull Request Guide</a> for
            detailed submission guidelines.
          </p>
        </div>
        <div class="panel-code">
          <div class="code-label">PR workflow</div>
          <div class="code-block">
            <pre><code class="language-bash"># Create feature branch
git checkout -b feat/add-anthropic-provider

# Make changes and commit
git add shared/plugins/model_provider/anthropic/
git commit -m "feat: Add Anthropic provider plugin

- Implement ModelProviderPlugin protocol
- Add Claude API integration
- Include streaming support
- Add comprehensive tests

Closes #123"

# Push to your fork
git push origin feat/add-anthropic-provider

# Create PR on GitHub
# - Fill out PR template
# - Request review
# - Address feedback
# - Merge when approved!</code></pre>
          </div>

          <div class="code-label" style="margin-top: 24px;">Good commit example</div>
          <div class="code-block">
            <pre><code class="language-text">feat: Add session auto-save on exit

Implement automatic session saving when the
client shuts down or the program exits. This
prevents data loss when users forget to
manually save.

Changes:
- Add atexit handler to JaatoClient
- Implement _auto_save() method
- Add AUTO_SAVE_ON_EXIT config option
- Update session plugin tests

Breaking: None
Migration: None (feature is opt-in)</code></pre>
          </div>
        </div>
      </section>

      <!-- Next Steps -->
      <section style="padding: 40px 0;">
        <h2>Next Steps</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-top: 24px;">
          <a href="architecture.html" style="display: block; padding: 24px; border: 1px solid var(--color-border); border-radius: 8px; text-decoration: none;">
            <h3 style="margin-top: 0;">üìê Architecture Deep Dive</h3>
            <p style="color: var(--color-text-secondary); margin: 0;">
              Understand how the framework components fit together and interact.
            </p>
          </a>

          <a href="testing.html" style="display: block; padding: 24px; border: 1px solid var(--color-border); border-radius: 8px; text-decoration: none;">
            <h3 style="margin-top: 0;">üß™ Testing Guide</h3>
            <p style="color: var(--color-text-secondary); margin: 0;">
              Learn how to write and run tests for your contributions.
            </p>
          </a>

          <a href="https://github.com/apanoia/jaato/issues" style="display: block; padding: 24px; border: 1px solid var(--color-border); border-radius: 8px; text-decoration: none;">
            <h3 style="margin-top: 0;">üéØ Find an Issue</h3>
            <p style="color: var(--color-text-secondary); margin: 0;">
              Browse open issues and find something to work on.
            </p>
          </a>
        </div>
      </section>
    </main>
  </div>

  <script src="https://unpkg.com/lunr@2.3.9/lunr.min.js"></script>
  <script src="../assets/js/docs.js"></script>
</body>
</html>
